{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,mBAsCpC,WACE,MAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QArC1B,wBAuChB,IAAKJ,EAAW,OAEZA,EAAUK,QAAOR,EAAKQ,MAAMC,MAAQN,EAAUK,OAC9CL,EAAUO,UAASV,EAAKU,QAAQD,MAAQN,EAAUO,Q,CAxCxDC,GAEA,MAAMC,EAAa,CACjBJ,MAAOR,EAAKQ,MAAMC,MAClBC,QAASV,EAAKU,QAAQD,OAGxBT,EAAKa,iBAAiB,QAASC,EAAAhB,EAAA,EAG/B,UAAuBiB,QAAQC,KAAEA,EAAIP,MAAEA,KACrCG,EAAWI,GAAQP,EACnBH,aAAaW,QAdG,sBAcgBb,KAAKc,UAAUN,G,GALI,MACrDZ,EAAKa,iBAAiB,UAOtB,SAAsBM,GACpBA,EAAMC,iBAEN,MAAMC,EAAgB,CACpBb,MAAOW,EAAMG,cAAcd,MAAMC,MACjCC,QAASS,EAAMG,cAAcZ,QAAQD,OAGvC,GAA4B,KAAxBY,EAAcb,OAA0C,KAA1Ba,EAAcX,QAE9C,YADAa,MAAM,2BAIRC,QAAQC,IAAIJ,GAEZf,aAAaoB,WAhCG,uBAiChB1B,EAAK2B,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst form = document.querySelector('.feedback-form');\n\nconst LOCAL_KEY = 'feedback-form-state';\n\naddLocalData();\n\nconst formValues = {\n  email: form.email.value,\n  message: form.message.value,\n};\n\nform.addEventListener('input', throttle(onFormInput, 500));\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput({ target: { name, value } }) {\n  formValues[name] = value;\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(formValues));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const submittedData = {\n    email: event.currentTarget.email.value,\n    message: event.currentTarget.message.value,\n  };\n\n  if (submittedData.email === '' || submittedData.message === '') {\n    alert('Please fill all fields!');\n    return;\n  }\n\n  console.log(submittedData);\n\n  localStorage.removeItem(LOCAL_KEY);\n  form.reset();\n}\n\nfunction addLocalData() {\n  const localData = JSON.parse(localStorage.getItem(LOCAL_KEY));\n\n  if (!localData) return;\n\n  if (localData.email) form.email.value = localData.email;\n  if (localData.message) form.message.value = localData.message;\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","localData","JSON","parse","localStorage","getItem","email","value","message","$945622fd0f572e60$var$addLocalData","$945622fd0f572e60$var$formValues","addEventListener","$parcel$interopDefault","target","name","setItem","stringify","event","preventDefault","submittedData","currentTarget","alert","console","log","removeItem","reset"],"version":3,"file":"03-feedback.7bbbb082.js.map"}