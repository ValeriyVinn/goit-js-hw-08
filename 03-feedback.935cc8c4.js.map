{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAE9BC,EAAY,uBAoClB,WACE,IAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQL,IAElD,IAAKC,EAAW,OAEZA,EAAUK,QAAOT,EAAKS,MAAMC,MAAQN,EAAUK,OAC9CL,EAAUO,UAASX,EAAKW,QAAQD,MAAQN,EAAUO,Q,CAxCxDC,GAEA,IAAMC,EAAa,CACjBJ,MAAOT,EAAKS,MAAMC,MAClBC,QAASX,EAAKW,QAAQD,OAGxBV,EAAKc,iBAAiB,QAASC,EAAAjB,EAAA,EAG/B,SAAqBkB,G,MAAAA,EAAEC,OAAUC,EAAIC,EAAJD,KAAMR,EAAKS,EAALT,MACrCG,EAAWK,GAAQR,EACnBH,aAAaa,QAAQjB,EAAWE,KAAKgB,UAAUR,G,GALI,MACrDb,EAAKc,iBAAiB,UAOtB,SAAsBQ,GACpBA,EAAMC,iBAEN,IAAMC,EAAgB,CACpBf,MAAOa,EAAMG,cAAchB,MAAMC,MACjCC,QAASW,EAAMG,cAAcd,QAAQD,OAGvC,GAA4B,KAAxBc,EAAcf,OAA0C,KAA1Be,EAAcb,QAE9C,YADAe,MAAM,2BAIRC,QAAQC,IAAIJ,GAEZjB,aAAasB,WAAW1B,GACxBH,EAAK8B,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst form = document.querySelector('.feedback-form');\n\nconst LOCAL_KEY = 'feedback-form-state';\n\naddLocalData();\n\nconst formValues = {\n  email: form.email.value,\n  message: form.message.value,\n};\n\nform.addEventListener('input', throttle(onFormInput, 500));\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput({ target: { name, value } }) {\n  formValues[name] = value;\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(formValues));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const submittedData = {\n    email: event.currentTarget.email.value,\n    message: event.currentTarget.message.value,\n  };\n\n  if (submittedData.email === '' || submittedData.message === '') {\n    alert('Please fill all fields!');\n    return;\n  }\n\n  console.log(submittedData);\n\n  localStorage.removeItem(LOCAL_KEY);\n  form.reset();\n}\n\nfunction addLocalData() {\n  const localData = JSON.parse(localStorage.getItem(LOCAL_KEY));\n\n  if (!localData) return;\n\n  if (localData.email) form.email.value = localData.email;\n  if (localData.message) form.message.value = localData.message;\n}\n"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$LOCAL_KEY","localData","JSON","parse","localStorage","getItem","email","value","message","$b00c40859be242c5$var$addLocalData","$b00c40859be242c5$var$formValues","addEventListener","$parcel$interopDefault","param","target","name","_target","setItem","stringify","event","preventDefault","submittedData","currentTarget","alert","console","log","removeItem","reset"],"version":3,"file":"03-feedback.935cc8c4.js.map"}